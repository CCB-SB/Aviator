<!DOCTYPE html>
{% load staticfiles %}
{% url 'main:details' as details %}
<html lang="en">
	<head>
    <meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
		<title>Aviator</title>
		<link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet" type="text/css">
		<link href="{% static 'css/chart.min.css' %}" rel="stylesheet" type="text/css">
		<link href="{% static 'css/aviator.css' %}" rel="stylesheet" type="text/css">
    <script src="{% static 'js/jquery.min.js' %}"></script>
    <script src="{% static 'js/popper.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script src="{% static 'js/chart.min.js' %}"></script>
	</head>
	<body>
    {% include "navbar.html" %}
    <div class="statistics-box">
      <canvas id="overview" width="400" height="200"></canvas>
      <br>
      <canvas id="c1" width="400" height="300"></canvas>
    </div>
	</body>
</html>

<script>
Chart.defaults.global.defaultFontColor = "#dee2e6";
//Chart.defaults.global.defaultFontSize = "14";

var ctx1 = document.getElementById('overview').getContext('2d');
var myChart = new Chart(ctx1, {
    type: 'bar',
    data: {
        labels: ['Publications', 'Websites', 'Online', 'Offline'],
        datasets: [{
            label: '',
            data: [{{ paper_count }}, {{ website_count }}, {{ online_count }}, {{ offline_count }}],
            backgroundColor: [
                'rgba(255, 206, 86, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(255, 99, 132, 0.2)'
            ],
            borderColor: [
                'rgba(255, 206, 86, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(255, 99, 132, 1)'
            ],
            borderWidth: 2
        }]
    },
    options: {
    title: {
        display: true,
        text: 'Database'
    },
    legend: {
        display: false
    },
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});
var ctx2 = document.getElementById('c1').getContext('2d');

var myChart = new Chart(ctx2, {
    type: 'line',
    data: {
        labels: [{{ stat1_names|safe }}],
        datasets: [{
            label: 'Online',
            data: [{{ stat1_online|safe }}],
            backgroundColor: [
                'rgba(75, 192, 192, 0.2)'
            ],
            borderColor: [
                'rgba(75, 192, 192, 1)'
            ],
            borderWidth: 2
        }, {
            label: 'Offline',
            data: [{{ stat1_offline|safe }}],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)'
            ],
            borderWidth: 2
        }]
    },
    options: {
        title: {
            display: true,
            text: 'Online/Offline'
        },
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});
</script>
